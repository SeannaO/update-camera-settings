{"version":3,"sources":["../src/_exec_helper.js"],"names":[],"mappings":";;;;;;;;QAGgB,S,GAAA,S;QAcA,c,GAAA,c;;AAjBhB;;;;AACA;;IAAY,a;;;;;;AAEL,SAAS,SAAT,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B,OAA/B,EAAwC,OAAxC,EAAiD;AACtD,MAAI,QAAQ,cAAc,QAAd,CAAuB,IAAvB,EAA6B,IAA7B,EAAmC,OAAnC,CAAZ;;AAEA,MAAI,OAAJ,EAAa;AACX,UAAM,MAAN,CAAa,EAAb,CAAgB,MAAhB,EAAwB,UAAC,IAAD;AAAA,aAAU,QAAQ,GAAR,CAAY,aAAa,IAAzB,CAAV;AAAA,KAAxB;AACA,UAAM,MAAN,CAAa,EAAb,CAAgB,MAAhB,EAAwB,UAAC,IAAD;AAAA,aAAU,QAAQ,GAAR,CAAY,aAAa,IAAzB,CAAV;AAAA,KAAxB;AACD;;AAED,SAAO,uBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,UAAM,EAAN,CAAS,MAAT,EAAiB,UAAC,IAAD,EAAO,MAAP;AAAA,aAAkB,QAAQ,CAAC,IAAD,EAAO,MAAP,CAAR,CAAlB;AAAA,KAAjB;AACA,UAAM,EAAN,CAAS,OAAT,EAAkB,MAAlB;AACD,GAHM,CAAP;AAID;;AAEM,SAAS,cAAT,CAAwB,IAAxB,EAA8B,IAA9B,EAAoC,OAApC,EAA6C,OAA7C,EAAsD;AAC3D,SAAO,UAAU,IAAV,EAAgB,IAAhB,EAAsB,OAAtB,EAA+B,OAA/B,EACN,IADM,CACD;AAAA;;AAAA,QAAE,IAAF;AAAA,QAAQ,MAAR;AAAA,WACJ,SAAS,CAAT,GAAa,mBAAQ,OAAR,EAAb,GAAiC,mBAAQ,MAAR,CAAe,IAAI,KAAJ,CAAa,IAAb,sBAAkC,iBAAe,IAAf,eAAkC,MAApE,EAAf,CAD7B;AAAA,GADC,CAAP;AAID","file":"_exec_helper.js","sourcesContent":["import Promise from 'bluebird'\nimport * as child_process from 'child_process'\n\nexport function execAsync(file, args, options, verbose) {\n  let child = child_process.execFile(file, args, options);\n\n  if (verbose) {\n    child.stdout.on('data', (data) => console.log('stdout: ' + data));\n    child.stderr.on('data', (data) => console.log('stderr: ' + data));\n  }\n\n  return new Promise((resolve, reject) => {\n    child.on('exit', (code, signal) => resolve([code, signal]));\n    child.on(\"error\", reject);\n  });\n}\n\nexport function execCheckAsync(file, args, options, verbose) {\n  return execAsync(file, args, options, verbose)\n  .then(([code, signal]) =>\n    code === 0 ? Promise.resolve() : Promise.reject(new Error(`${file} exited with ${(code ? `code ${code}` : `signal ${signal}`)}`))\n  );\n}\n"]}